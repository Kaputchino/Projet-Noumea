<!DOCTYPE html>
<html>
  <head>
    <title>Les résultats de l'élection du secrétaire géneral du PS</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A==" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js" integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA==" crossorigin=""></script>
    <script src="depMod.js"></script>
  </head>
  <body>

   <div id="map" style="height: 800px;"></div>
    <script>
      var map = L.map('map').setView([46.2276, 2.2137], 6);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
      }).addTo(map);
        
    L.geoJSON(data).addTo(map);
        

    
    var style = {
        "color": "#ff7800",
        "weight": 5,
        "opacity": 0.65
    
    };
        /**
    L.geoJSON(data, {
        style: style,
    }).addTo(map);**/
        
    L.geoJSON(data, {
    onEachFeature: function (feature, layer) {
        layer.bindPopup(
            feature.properties.libgeo+
            "<br>"+feature.properties.gagnant+": "+ feature.properties.gVoix+
            "<br>"+feature.properties.perdant+": "+ feature.properties.pVoix
            );

layer.setStyle({fillColor :feature.properties.color, fillOpacity :1,color:"#000000"});
        
    }
        
}).addTo(map);
        /*
    L.geoJSON(data, {
    style: function (feature) {
        return {fillColor: feature.properties.color};
    }
}).addTo(map);*/
    
    </script>
  </body>
</html>
